---
title: "날짜 데이터 조회에는 시간까지 고려하기"
date: 2026-02-14 15:37:00 +0900
categories: [Tech, SQL]
tags: [SQL]
---

## 분명히 있는 데이터인데, 왜 조회가 안될까?

![날짜 데이터](/assets/img/sql_5-1.PNG)

위 사진의 쿼리 결과창에서 hiredate를 보면 연/월/일 정보만 보이기 때문에 시간 정보가 없다고 착각하기 쉽다.
<br>
<br>

![날짜 데이터](/assets/img/sql_5-2.PNG)

하지만 실제로는 위쪽처럼 초 단위까지의 시간 정보가 숨겨져 있다.  
이런 경우 WHERE hiredate = '1980/12/17'로 조회하면 데이터가 한 건도 나오지 않는 경우가 발생한다.  
<br>

오라클의 DATE 타입은 시, 분, 초를 함께 저장한다.  
시각적으로는 보이지 않아도 데이터 뒤에 23:59:59 같은 시간이 붙어 있다면,  
시간 없이 날짜만 입력된 조회 조건과는 일치하지 않게 된다.

<hr style="height: 5px; background-color: #777; border: none;">

## 날짜 함수에는 between 활용하기

![날짜 데이터](/assets/img/sql_5-3.PNG)

우리가 보는 데이터는 DB 설정인 NLS_DATE_FORMAT에 따라 일부(날짜)만 표시되는 것일 뿐이다.  
TO_CHAR(hiredate, 'YYYY/MM/DD HH24:MI:SS') 함수를 사용해 변환해 보면, 숨겨져 있던 시/분/초가 비로소 모습을 드러낸다.  
<br>

위 사진처럼 날짜 함수를 사용할 때는 between을 활용해서 검색하는 것이 좋다.
<br>

>따라서 정확한 날짜 조회를 위해서는 검색 범위의 시작과 끝을 명확히 지정해 주어야 한다.

<hr style="height: 5px; background-color: #777; border: none;">

## 한 걸음 더: 눈에 보이는 것만 믿으면 안된다.
처음에는 날짜 데이터는 당연히 날짜만 저장된 줄 알았다.  
하지만 실제 데이터를 조회해보니 특정 날짜의 결산 데이터가 누락되는 것을 보고,  
데이터베이스의 표시 형식과 저장 원칙은 별개라는 것을 느꼈다.  
<br>

>이제는 날짜 데이터를 다룰 때 습관적으로 TO_CHAR를 써서 원본 데이터의 시간값을 먼저 확인하려고 한다.
>날짜 범위 조회 시에는 가급적 BETWEEN을 활용하며,
>시간 정보가 확실하지 않을 때는 00:00:00부터 23:59:59까지 명시적으로 범위를 지정하도록 하자.
<br>

>데이터는 거짓말을 하지 않지만, 화면은 거짓말을 할 수 있다는 것을 명심하자.

<hr style="height: 5px; background-color: #777; border: none;">

## [SUMMARY]
1. 시간의 존재: DATE 타입은 눈에 보이지 않아도 항상 시간값을 품고 있다.  
2. 범위 검색: 날짜 데이터는 BETWEEN을 사용해 시작 시점과 끝 시점을 명확히 지정해야 누락을 방지할 수 있습니다.    
3. 확인의 습관: 조회가 안 될 때는 가장 먼저 TO_CHAR로 원본 데이터의 실제 시간 형식을 확인하자.
