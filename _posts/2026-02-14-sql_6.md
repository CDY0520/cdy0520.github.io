---
title: "NULL값 정렬하기"
date: 2026-02-14 17:40:00 +0900
categories: [Tech, SQL]
tags: [SQL]
---

## 데이터 정렬의 복병: NULL
데이터를 내림차순(DESC)으로 정렬했는데,  
정작 값이 있는 고득점자가 아닌 NULL 데이터가 최상단을 점령하는 경우가 있다.  
<br>

![NULL 정렬](/assets/img/sql_6-1.PNG)

![NULL 정렬](/assets/img/sql_6-2.PNG)

오라클에서 NULL 값의 정렬 원칙은 다음과 같다.  
1) ASC(오름차순): NULL을 가장 큰 값으로 취급하여 맨 뒤(아래)에 배치  
2) DESC(내림차순): 역시 가장 큰 값이므로 맨 앞(위)에 배치
<br>

주의할 것은 크게 취급한다는 정렬 순서상의 약속일 뿐, 실제 데이터 크기가 크다는 의미는 아니다.

<hr style="height: 5px; background-color: #777; border: none;">

## 함수를 쓸 것인가, 옵션을 쓸 것인가?

![NULL 정렬](/assets/img/sql_6-3.PNG)

NULL 값의 정렬을 위해 위 사진처럼 NVL 함수 활용하여   
NULL을 임의의 숫자 -1로 치환해 강제로 뒤로 보내는 방법이 있다.  
<br>
<br>

하지만 이렇게 정렬 컬럼에 함수를 씌우는 것은 인덱스 활용을 방해하여 성능 저하를 일으킬 수 있다.
<br>

![NULL 정렬](/assets/img/sql_6-4.PNG)

아니면 위 사진처럼 NULLS LAST / NULLS FIRST 옵션을 사용하는 방법도 있다.  
ORDER BY comm DESC NULLS LAST라고 명시하면, 함수를 쓰지 않고도 깔끔하게 NULL을 꼴찌로 보낼 수 있다.  
<br>

옵션을 활용하는 이 방법은 SQL 표준에 가깝고, 인덱스 성능에 영향을 주지 않아 훨씬 권장되는 해결책이다.

<hr style="height: 5px; background-color: #777; border: none;">

## 한 걸음 더: 정렬은 가치 있는 정보를 맨 앞으로 끌어올리는 전략, NULL에 휘둘리지 말자.
처음에는 NULLS LAST 옵션을 몰라 무조건 NVL로 감싸서 정렬하곤 했다.  
하지만 대용량 테이블에서 정렬 속도가 급격히 느려지는 것을 보며, 성능을 고려한 쿼리의 중요성을 깨달았다.  
또한, NULL이 맨 위로 올라왔을 때 자료를 받아보는 사람의 의사결정에 혼선을 주게 된다.  
<br>

>이제는 정렬 조건 하나를 쓸 때도 사용자의 가독성과 DB의 부하를 동시에 고민해야 하겠다.
<br>

>정렬 결과의 상단과 하단 5개 행을 반드시 확인하도록 하자.
>특히 NULL이 포함된 컬럼은 DESC와 NULLS LAST를 세트로 사용하는 것을 기본 원칙으로 삼아,
>예외 데이터가 비즈니스 로직을 방해하지 않도록 신경쓰자.

<hr style="height: 5px; background-color: #777; border: none;">

## [SUMMARY]
1. 기본 동작: 오라클에서 NULL은 정렬 시 '가장 큰 값'으로 간주된다.  
2. 최선의 선택: NVL 같은 함수보다는 NULLS LAST / FIRST 옵션을 사용하여 인덱스 성능을 지키자.  
3. 사용자 배려: 리포트 성격에 맞춰 NULL이 의미 있는 정보인지, 숨겨야 할 노이즈인지 판단하여 정렬 위치를 결정하자.
